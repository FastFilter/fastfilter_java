# FastFilter Java Environment - Windows x86_64
# Copy to .env and customize as needed
# Note: Use forward slashes or double backslashes in paths

# JDK 24 (Eclipse Adoptium)
JAVA_HOME=C:/Program Files/Eclipse Adoptium/jdk-24.0.2-hotspot
JVM_OPTS=--enable-preview --enable-native-access=ALL-UNNAMED
MAVEN_OPTS=--enable-preview --enable-native-access=ALL-UNNAMED -Xmx4g -Xms2g

# Build Tools
MAVEN_HOME=C:/Program Files/Apache/maven
BAZEL_HOME=C:/tools/bazel

# MSYS2 Compiler (recommended)
CC=C:/msys64/mingw64/bin/gcc.exe
CXX=C:/msys64/mingw64/bin/g++.exe
CFLAGS=-O3 -march=native -mavx2 -Wall -Wextra
CXXFLAGS=-O3 -march=native -mavx2 -Wall -Wextra -std=c++17
LDFLAGS=-LC:/msys64/mingw64/lib
CPPFLAGS=-IC:/msys64/mingw64/include

# Alternative: Visual Studio compiler
# CC=cl.exe
# CXX=cl.exe
# CFLAGS=/O2 /arch:AVX2 /W4
# CXXFLAGS=/O2 /arch:AVX2 /W4 /std:c++17

# Library Paths
LIBRARY_PATH=C:/msys64/mingw64/lib;C:/Program Files/LLVM/lib;C:/Windows/System32
PATH=%PATH%;C:/msys64/mingw64/bin;C:/Program Files/LLVM/bin

# FastFilter Native Libraries
NATIVE_LIB_PATH_WINDOWS_X86_64=C:/msys64/mingw64/lib;C:/Windows/System32
NATIVE_LIB_PATH=C:/msys64/mingw64/lib;C:/Program Files/LLVM/lib;C:/Windows/System32

# Bazel Configuration
BAZEL_BUILD_OPTS=--jobs=auto --compilation_mode=opt --verbose_failures
BAZEL_CONFIG_WINDOWS_X86_64=--cpu=x64_windows --copt=/arch:AVX2

# Development Tools
CMAKE_BUILD_TYPE=Release
CMAKE_GENERATOR=Ninja
CMAKE_C_COMPILER=${CC}
CMAKE_CXX_COMPILER=${CXX}
NINJA_JOBS=8

# Testing (Docker Desktop required)
TEST_FFI_ENABLED=true
TEST_DOCKER_ENABLED=true
DOCKER_DEFAULT_PLATFORM=windows/amd64

# Performance
JMH_FORKS=3
JMH_WARMUP_ITERATIONS=5
JMH_MEASUREMENT_ITERATIONS=10
JMH_THREADS=4