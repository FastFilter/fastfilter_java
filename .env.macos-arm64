# FastFilter Java Environment - macOS Apple Silicon (ARM64)
# Copy to .env and customize as needed

# JDK 24 (Homebrew Apple Silicon)
JAVA_HOME=/opt/homebrew/opt/openjdk@24/libexec/openjdk.jdk/Contents/Home
JVM_OPTS=--enable-preview --enable-native-access=ALL-UNNAMED
MAVEN_OPTS=--enable-preview --enable-native-access=ALL-UNNAMED -Xmx4g -Xms2g

# Build Tools (Homebrew Apple Silicon)
MAVEN_HOME=/opt/homebrew/opt/maven/libexec
BAZEL_HOME=/opt/homebrew/bin

# LLVM Compiler (Homebrew)
CC=/opt/homebrew/opt/llvm/bin/clang
CXX=/opt/homebrew/opt/llvm/bin/clang++
CFLAGS=-O3 -march=native -Wall -Wextra
CXXFLAGS=-O3 -march=native -Wall -Wextra -std=c++17
LDFLAGS=-L/opt/homebrew/lib
CPPFLAGS=-I/opt/homebrew/include

# Library Paths (Apple Silicon)
LIBRARY_PATH=/opt/homebrew/lib:/usr/local/lib:/usr/lib
PKG_CONFIG_PATH=/opt/homebrew/lib/pkgconfig:/usr/local/lib/pkgconfig
DYLD_LIBRARY_PATH=/opt/homebrew/lib:/usr/local/lib

# FastFilter Native Libraries
NATIVE_LIB_PATH_DARWIN_ARM64=/opt/homebrew/lib:/usr/local/lib
NATIVE_LIB_PATH=/opt/homebrew/lib:/usr/local/lib:/usr/lib

# Bazel Configuration
BAZEL_BUILD_OPTS=--jobs=auto --compilation_mode=opt --verbose_failures
BAZEL_CONFIG_MACOS_ARM64=--cpu=darwin_arm64 --macos_minimum_os=11.0

# Development Tools
CMAKE_PREFIX_PATH=/opt/homebrew
CMAKE_C_COMPILER=${CC}
CMAKE_CXX_COMPILER=${CXX}
CMAKE_BUILD_TYPE=Release
CMAKE_GENERATOR=Ninja
NINJA_JOBS=8

# Testing
TEST_FFI_ENABLED=true
TEST_DOCKER_ENABLED=true
DOCKER_DEFAULT_PLATFORM=linux/arm64

# Performance
JMH_FORKS=3
JMH_WARMUP_ITERATIONS=5
JMH_MEASUREMENT_ITERATIONS=10
JMH_THREADS=4